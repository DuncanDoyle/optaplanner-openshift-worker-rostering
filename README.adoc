= Employee Rostering Optimization as a Service

An example https://www.optaplanner.org/[OptaPlanner] app to be deployed on https://www.openshift.com/[OpenShift 3].

== Building from source

=== Normal

```
mvn clean install
```

=== Like OpenShift

```
mvn clean package -Popenshift
```

== Run configurations

=== IntelliJ IDEA

. https://youtrack.jetbrains.com/issue/IDEA-171158[IntelliJ does not support the new GWT plugin yet]
. Create a new JBoss run configuration to a local WildFly instance:
.. In the _Before launch_ list, remove `Make project`
.. In the _Before launch_ list, add `Run Maven goal` on the root pom with arguments `clean install -Dgwt.draftCompile`
.. In the _Deployment_ tab, in _Deploy at startup_, add `optashift-employee-rostering-webapp:war exploded`.

== GWT Super Dev Mode

. Download http://wildfly.org/downloads/[WildFly]
.. Unzip it into `local/appserver/` in the project root.
The `local` directory is ignored by Git.
.. Create a symlink:
+
```
cd local/appserver/
ln -s wildfly-10.1.0.Final/ wildfly
```
. Run super dev mode in the root project:
+
```
mvn gwt:devmode
```
+
If you unzipped WildFly to a different directory, use:
+
```
mvn gwt:devmode -Dwildfly.home=/.../wildfly
```

== Creating OpenShift environment
Deploy the application to OpenShift by running the provided provisioning script `provision.sh`:

* Deploy the application: `provision.sh deploy employee-rostering`
* Deploy the application (OpenShift binary build): `provision.sh deploy employee-rostering --binary`
* Delete the application: `provision.sh delete employee-rostering`

